# Maintainer: Josip Ponjavic <josipponjavic at gmail dot com>
# Maintainer: Xu Fasheng <fasheng.xu[AT]gmail.com>

pkgname=startdde
pkgver=2.92.1
_commit=18e8ea2eb38c51fdb4faaa0764cd47d6052da8b5
pkgrel=1
pkgdesc="starter of deepin desktop environment"
arch=('i686' 'x86_64')
url="https://github.com/linuxdeepin/startdde"
license=('GPL3')
depends=('gcc-go')
makedepends=('cmake' 'coffee-script' 'deepin-dbus-factory' 'go-packages' 'dde-api'
			 'libdeepin-webkit' 'python2' 'webkitgtk')
# TODO: move deepin-wm to depends when entering [community]
optdepends=('deepin-wm: default window manager for Deepin')
groups=('deepin')
#source=("git+https://github.com/linuxdeepin/startdde.git#commit=$_commit")
source=("startdde-${pkgver}.tar.xz")
sha256sums=('SKIP')

build() {
	cd startdde-${pkgver}
	make GOPATH="/usr/lib/go"
}

package() {
	depends+=('dde-daemon')
	cd startdde-${pkgver}
	make GOPATH="/usr/lib/go" DESTDIR="${pkgdir}" install
}
