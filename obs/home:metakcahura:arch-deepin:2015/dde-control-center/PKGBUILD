# Maintainer: Josip Ponjavic <josipponjavic at gmail dot com>
# Maintainer: Xu Fasheng <fasheng.xu[AT]gmail.com>

pkgname=dde-control-center
pkgver=2.91.0
_commit=802e8e269c01a494447684dd08bc2f75be1099cc
pkgrel=3
pkgdesc='New control center for linux deepin'
arch=('i686' 'x86_64')
url="http://github.com/linuxdeepin/dde-control-center"
license=('GPL3')
depends=('desktop-file-utils' 'libdui' 'gtk3')
makedepends=('dde-dock' 'deepin-gettext-tools' 'git')
groups=('deepin')
install="${pkgname}.install"
#source=("git+https://github.com/linuxdeepin/dde-control-center.git#commit=$_commit")
source=("${pkgname}.tar.xz")
sha256sums=('SKIP')

build(){
	cd "${pkgname}"
	qmake-qt5 PREFIX=/usr WITH_MODULE_GRUB=NO
	make
}

package() {
	depends+=('dde-account-faces' 'dde-api' 'dde-daemon' 'deepin-dbus-factory')
	cd "${pkgname}"
	make INSTALL_ROOT="${pkgdir}" install
}
