# Maintainer: Josip Ponjavic <josipponjavic at gmail dot com>
# Contributor: 

pkgname=python2-deepin-storm
_pkgname=pystorm
pkgver=git20130425~ade21bf
pkgrel=1
arch=('any')
url="https://github.com/linuxdeepin/pystorm"
license=('GPL3')
pkgdesc="Python Storm is download library and tool for Linux Deepin project."
depends=('python2' 'python2-gevent')
makedepends=('python2-setuptools' 'gettext' 'intltool')
groups=('deepin')
source=("${_pkgname}-${pkgver}.tar.xz")
sha256sums=('SKIP')

prepare() {
  cd "${_pkgname}-${pkgver}"

  # fix python version
  find -iname "*.py" | xargs sed -i 's=\(^#! */usr/bin.*\)python=\1python2='
}

package() {
  cd "${_pkgname}-${pkgver}"
  
  python2 setup.py install --root="${pkgdir}/"
}
