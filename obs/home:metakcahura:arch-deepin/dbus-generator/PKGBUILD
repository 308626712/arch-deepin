# Maintainer: Josip Ponjavic <josipponjavic at gmail dot com>
# Contributor: Xu Fasheng <fasheng.xu[AT]gmail.com>

pkgname=dbus-generator
pkgver=git20140522~3948504
pkgrel=1
pkgdesc='Convert dbus interfaces to go-lang or qml wrapper code'
arch=('i686' 'x86_64')
url="https://gitcafe.com/Deepin/go-dbus-generator"
license=('GPL3')
makedepends=('go>=1.3' 'gettext' 'go-dlib' 'golang-gocheck')
conflicts=('go-dlib<=0.0.2' 'go-dlib-dbus-proxyer')
groups=('deepin-dev')
options=(staticlibs)
source=("${pkgname}-${pkgver}.tar.xz")
sha256sums=('SKIP')

build(){
  cd "${pkgname}-${pkgver}"
  go build -o dbus-generator
}

package() {
  cd "${pkgname}-${pkgver}"
  install -Dm 755 dbus-generator "${pkgdir}"/usr/bin/dbus-generator
}
