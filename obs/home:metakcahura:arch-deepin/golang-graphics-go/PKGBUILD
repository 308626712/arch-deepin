# Maintainer: Josip Ponjavic <josipponjavic at gmail dot com>
# Contributor: 

pkgname=golang-graphics-go
_pkgver=0.0
_pkgvergit=~git20140306
pkgver=${_pkgver}${_pkgvergit}
pkgrel=3
pkgdesc='File system notification for GO'
arch=('i686' 'x86_64')
url="http://code.google.com/p/graphics-go/"
license=('GPL2')
depends=('go>=1.3rc2')
groups=('deepin')
options=(staticlibs)
source=("http://test.packages.linuxdeepin.com/deepin/pool/main/g/${pkgname}/${pkgname}_${pkgver}.orig.tar.xz")
sha256sums=('d91af80386956e33215f1dc77800051d64354a3a43b56d616e08078fa08d8314')

build(){
  cd "$srcdir"
  
  mkdir -p golang-graphics-go-build/src/code.google.com/p/
  cp -r graphics-go golang-graphics-go-build/src/code.google.com/p/
  # autobuild go
  cd "$srcdir"/golang-graphics-go-build && GOPATH=`pwd` go install code.google.com/p/graphics-go/graphics
}

package() {

  mkdir -p "${pkgdir}"/usr/lib/go/{pkg,src/pkg/code.google.com/p/graphics-go/graphics/}
  cp -r "$srcdir"/golang-graphics-go-build/src/code.google.com/p/graphics-go/graphics/* "${pkgdir}"/usr/lib/go/src/pkg/code.google.com/p/graphics-go/graphics/
  cp -r "$srcdir"/golang-graphics-go-build/pkg/* "${pkgdir}"/usr/lib/go/pkg/
}
