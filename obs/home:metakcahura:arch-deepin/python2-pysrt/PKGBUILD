# Maintainer: Josip Ponjavic <josipponjavic at gmail dot com>
# Contributor: 

pkgname=python2-pysrt
pkgver=1.0.1
pkgrel=4
pkgdesc="Python parser for SubRip (srt) files"
arch=('any')
url="https://github.com/byroot/pysrt"
license=('GPL3')
depends=('python2-chardet')
makedepends=('python2-distribute')
source=("http://pypi.python.org/packages/source/p/pysrt/pysrt-${pkgver}.tar.gz")
md5sums=('2ba064c33026bac4b528063f67bd8ebc')

prepare() {
	cd "pysrt-${pkgver}"

	# fix python version
	find -iname "*.py" | xargs sed -i 's=\(^#! */usr/bin.*\)python *$=\1python2='
}

package() {
	cd "pysrt-${pkgver}"

	# Remove tests
	rm -rf tests

	/usr/bin/python2 setup.py install --root="${pkgdir}" --optimize=1
}
